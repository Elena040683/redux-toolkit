{"version":3,"file":"static/js/870.7c6c468f.chunk.js","mappings":"4GACA,SAAgB,cAAgB,kCAAkC,OAAS,2DAA2D,QAAU,6B,8BCGzI,SAASA,EAAUC,GAAiB,IAAhB,UAAEC,GAAWD,EACtC,MAAME,GAAQC,EAAAA,EAAAA,UAKRC,GAAmBC,EAAAA,EAAAA,cAAY,KACnCC,EAAAA,GAAKC,GACH,oBACA,EACA,CACEC,KAAM,CACJC,MAAO,GAETC,KAAM,YAER,GAEFJ,EAAAA,GAAKC,GACH,eACA,EACA,CACEC,KAAM,CACJG,cAAe,YAEjBD,KAAM,YAER,GAEFJ,EAAAA,GAAKC,GACHL,EAAMU,QACN,EACA,CACEC,sBAAuB,aACvBH,KAAM,YAER,EACD,GACA,IACGI,GAAmBT,EAAAA,EAAAA,cAAY,KACnCC,EAAAA,GAAKC,GAAG,oBAAqB,EAAG,CAC9BC,KAAM,CACJC,MAAO,KAETC,KAAM,aAERJ,EAAAA,GAAKC,GACH,eACA,EACA,CACEC,KAAM,CACJG,cAAe,YAEjBD,KAAM,YAER,GAEFJ,EAAAA,GAAKC,GAAGL,EAAMU,QAAS,EAAG,CACxBC,sBAAuB,aACvBH,KAAM,YACN,GACD,IAEH,OACEK,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAAA,MACEG,UAAWC,EAAEC,OACbC,aAAcP,EACdQ,aAAclB,EACdmB,IAAKrB,EAAMe,SAAA,CAEVhB,EAAU,QAEbuB,EAAAA,EAAAA,KAAA,OAAKN,UAAWC,EAAEM,QAAQR,UACxBF,EAAAA,EAAAA,MAAA,UAAQW,GAAG,mBAAkBT,SAAA,EAC3BO,EAAAA,EAAAA,KAAA,gBACEG,KAAK,eACLhB,cAAc,WACdiB,WAAW,IACXC,KAAK,IACLC,YAAY,WACZC,EAAE,KACFC,EAAE,KACFC,MAAM,OACNC,OAAO,OACPC,OAAO,WAETX,EAAAA,EAAAA,KAAA,qBACEY,GAAG,gBACHC,IAAI,QACJ5B,MAAM,IACN6B,iBAAiB,IACjBC,iBAAiB,IACjBR,EAAE,KACFC,EAAE,KACFC,MAAM,OACNC,OAAO,OACPM,YAAY,0BAMxB,C,6CCzGO,MAAMC,EAAQA,CAACC,EAAKC,KACzB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,WACxB,SAAAC,EAAA,OAA2C,QAA3CA,EAAMC,KAAKC,MAAMC,aAAaC,QAAQT,WAAK,IAAAK,EAAAA,EAAIJ,CAAa,IAO9D,OAJAS,EAAAA,EAAAA,YAAU,KACRF,aAAaG,QAAQX,EAAKM,KAAKM,UAAUV,GAAO,GAC/C,CAACF,EAAKE,IAEF,CAACA,EAAOC,EAAS,C,2FCN1B,MAAMU,UAAaC,EAAAA,UAAUC,WAAAA,GAAA,SAAAC,WAAA,KAC3BC,aAAcC,EAAAA,EAAAA,KAAO,KACrBC,YAAaD,EAAAA,EAAAA,KAAO,KACpBE,cAAeF,EAAAA,EAAAA,KAAO,KACtBG,YAAaH,EAAAA,EAAAA,KAAO,KAEpBhB,MAAQ,CACN1C,MAAO,GACP8D,KAAM,GACNC,QAAQ,EACRC,KAAM,GACNC,QAAS,MAGb,KAEEC,YAAeC,IACbC,KAAKzB,SAAS,CACZoB,QAASK,KAAK1B,MAAMqB,QACpB,EACH,KAEDM,aAAgBF,IACdG,QAAQC,IAAIJ,EAAEK,OAAOC,KAAMN,EAAEK,OAAOE,OACpCN,KAAKzB,SAAS,CAEZ,CAACwB,EAAEK,OAAOC,MAAON,EAAEK,OAAOE,OAC1B,EACF,KAEFC,sBAAwB,KACtB,MAAM,KAACF,EAAI,KAAEhD,EAAI,QAAEmD,EAAO,MAAEF,GAASN,KAAK1B,MAC1C0B,KAAKzB,SAAS,CACZ,CAAC8B,GAAgB,aAAThD,EAAsBmD,EAAUF,GACxC,EACH,KAEDG,aAAgBV,IACdA,EAAEW,iBACF,MAAM,MAAC9E,EAAK,KAAE8D,EAAI,KAAEE,GAAQI,KAAK1B,MAC3BqC,EAAM,CACVvD,IAAIkC,EAAAA,EAAAA,KACJ1D,QACA8D,OACAE,QAEFI,KAAKzB,SAAS,CAACsB,QAASc,IAGxBX,KAAKY,MAAMC,MAAMF,GAEjBX,KAAKc,WAAW,EAChB,KAEFA,UAAY,KACVd,KAAKzB,SAAS,CACZ3C,MAAO,GACP8D,KAAM,GACNE,KAAM,GACND,QAAQ,GACR,CAGH,CAGDoB,MAAAA,GAEEb,QAAQC,IAAI,sCAAcH,KAAKY,MAAMC,OAErC,MAAM,MAACjF,EAAK,KAAE8D,EAAI,KAAEE,EAAI,OAAED,GAAUK,KAAK1B,OACnC,aAACmC,EAAY,aAAER,EAAY,YAAEH,GAAeE,KAClD,OACEvD,EAAAA,EAAAA,MAAA,QAAMuE,SAAUP,EAAa9D,SAAA,EAC3BO,EAAAA,EAAAA,KAAA,SAAO+D,QAASjB,KAAKX,YAAY1C,SAAC,WAClCO,EAAAA,EAAAA,KAAA,SACEG,KAAK,OACLD,GAAK4C,KAAKX,YACVgB,KAAK,QACLC,MAAO1E,EACPsF,SAAUjB,KAEZ/C,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SAAO+D,QAASjB,KAAKT,WAAW5C,SAAC,iBACjCO,EAAAA,EAAAA,KAAA,SACEG,KAAK,OACLD,GAAI4C,KAAKT,WACTc,KAAK,OACLC,MAAOZ,EACPwB,SAAUjB,KAEZ/C,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SAAO+D,QAASjB,KAAKP,WAAW9C,SAAC,sBACjCF,EAAAA,EAAAA,MAAA,UACE4D,KAAK,OACLjD,GAAI4C,KAAKP,WACTa,MAAOV,EACPsB,SAAUjB,EAAatD,SAAA,EAEvBO,EAAAA,EAAAA,KAAA,UAAQoD,MAAM,GAAGa,UAAQ,EAAAxE,SAAC,SAC1BO,EAAAA,EAAAA,KAAA,UAAQoD,MAAM,IAAG3D,SAAC,OAClBO,EAAAA,EAAAA,KAAA,UAAQoD,MAAM,IAAG3D,SAAC,OAClBO,EAAAA,EAAAA,KAAA,UAAQoD,MAAM,IAAG3D,SAAC,UAEpBO,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SAAO+D,QAASjB,KAAKR,aAAa7C,SAAC,YACnCO,EAAAA,EAAAA,KAAA,SACEG,KAAK,WACLgD,KAAK,SACLjD,GAAI4C,KAAKR,aACTgB,QAASb,EACTuB,SAAUpB,KAEZ5C,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,UAAQG,KAAK,SAAS8D,UAAWxB,EAAOhD,SAAC,UAG/C,EASF,MAMA,GAAeyE,EAAAA,EAAAA,IAAQ,MANKC,IACnB,CACLR,MAAQF,GAAQU,GAASC,EAAAA,EAAAA,IAAWX,OAIxC,CAAiD1B,GCxIjD,EAA2B,wBAA3B,EAA6D,uB,aCGtD,MAAMsC,UAAcrC,EAAAA,UAAUC,WAAAA,GAAA,SAAAC,WAAA,KAYnCoC,aAAgBzB,IACa,WAAXA,EAAE0B,MAEhBzB,KAAKY,MAAMc,aACb,EACD,KAEDC,YAAe5B,IACVA,EAAE6B,gBAAkB7B,EAAEK,QACvBJ,KAAKY,MAAMc,aACb,CACD,CArBDG,iBAAAA,GACEC,OAAOC,iBAAiB,UAAW/B,KAAKwB,aAC1C,CAEAQ,kBAAAA,GAAsB,CAEtBC,oBAAAA,GACEH,OAAOI,oBAAoB,UAAWlC,KAAKwB,aAC7C,CAeAT,MAAAA,GACE,MAAM,SAACpE,GAAYqD,KAAKY,MACxB,OAAOuB,EAAAA,EAAAA,eACLjF,EAAAA,EAAAA,KAAA,OAAKN,UAAWC,EAAYuF,QAASpC,KAAK2B,YAAYhF,UACnDO,EAAAA,EAAAA,KAAA,OAAKN,UAAWC,EAAUF,SACtBA,MAGP0F,SAASC,eAAe,aAE5B,ECtCF,SAAgB,YAAc,kCAAkC,aAAe,mCAAmC,YAAc,mC,aCEzH,SAASC,EAAY7G,GASxB,IATyB,QAC3B8G,EAAO,OACPC,EAAM,YACNC,EAAW,eACXC,EAAc,YACdC,EAAW,aAEXC,EACAC,SAAS,MAAClH,EAAK,QAAEmH,EAAO,QAAEC,EAAO,UAAEC,IACpCvH,EACC,OACEwB,EAAAA,EAAAA,KAACgG,EAAAA,GAAO,CAACC,OAAO,UAASxG,UACvBF,EAAAA,EAAAA,MAAA,OACEQ,IAAKuF,EAELY,SAAUX,OAASY,EAAY,EAC/BC,KAAK,SACL1G,UAAS,qBACTwF,QAASM,EACTa,UAAWZ,EAAehG,SAAA,EAE1BO,EAAAA,EAAAA,KAAA,KAAGN,UAAU,gBAAeD,SAAEf,KAC9BsB,EAAAA,EAAAA,KAAA,KAAGN,UAAU,UAASD,SAAEoG,KACxB7F,EAAAA,EAAAA,KAAA,UAAQN,UAAU,2BAA2BwF,QAASQ,EAAYjG,SAC/DqG,KAEH9F,EAAAA,EAAAA,KAAA,UAAQN,UAAU,yBAAyBwF,QAASS,EAAalG,SAC9DsG,QAKX,CAEAV,EAAaiB,aAAe,CAC1BV,QAAS,CACPlH,MAAO,oBACPmH,QACE,yGACFC,QAAS,uBACTC,UAAW,4BCpCf,MAAMQ,UAAqBvE,EAAAA,UAAUC,WAAAA,GAAA,SAAAC,WAAA,KACnCd,MAAQ,CAINmE,OAAQzC,KAAKY,MAAM6B,QAGrB,KACAxF,KAAMyG,EAAAA,EAAAA,aAEN,KACAhB,YAAc,KAER1C,KAAK1B,MAAMmE,SACfzC,KAAKzB,UAASoF,IAAI,CAChBlB,QAASkB,EAAKlB,WAGhBzC,KAAK/C,IAAIX,QAAQsH,QAAO,EACxB,KAEFjB,eAAiBkB,IAGG,UAAdA,EAAMzF,KAAiC,WAAdyF,EAAMzF,KACjC4B,KAAK0C,aACP,EACA,KAEFE,YAAc,IAAM5C,KAAKzB,SAAS,CAAEkE,QAAQ,IAG9C,KAEEI,aAAe,KAEb7C,KAAKY,MAAMkD,gBAAgB9D,KAAKY,MAAMxD,IACtC4C,KAAKzB,SAAS,CAAEkE,QAAQ,GAAQ,CACjC,CAED1B,MAAAA,GAIE,MAAM,OAAE0B,GAAWzC,KAAK1B,OAClB,IAAErB,EAAG,eAAE0F,EAAc,YAAED,EAAW,YAAEE,EAAW,aAAEC,GAAiB7C,KACxE,OACE9C,EAAAA,EAAAA,KAAC6G,EAAAA,GAAO,CAACC,QAASvB,EAAQwB,OAAO,QAAQC,SAAO,EAAAvH,SAE7C8F,GACCvF,EAAAA,EAAAA,KAACqF,EACC,CACAC,QAASvF,EACTwF,OAAQA,EACRC,YAAaA,EACbC,eAAgBA,EAChBC,YAAaA,EAGbC,aAAcA,KAGhB3F,EAAAA,EAAAA,KAACgG,EAAAA,GAAO,CAACC,OAAO,UAASxG,UACvBO,EAAAA,EAAAA,KAAA,OACED,IAAKA,EACLmG,SAAU,EACVE,KAAK,SACL1G,UAAU,iBACVwF,QAASM,EACTa,UAAWZ,EAAehG,UAE1BO,EAAAA,EAAAA,KAACgG,EAAAA,GAAO,CAACC,OAAO,SAAQxG,UACtBO,EAAAA,EAAAA,KAAA,QAAMN,UAAU,SAAQD,SAAC,kBAOvC,EAGF,MAIA,GAAeyE,EAAAA,EAAAA,IAAQ,MAJIC,IAAQ,CACjCyC,gBAAkB1G,GAAOiE,GAAS8C,EAAAA,EAAAA,IAAc/G,OAGlD,CAAiDqG,G,YC9F1C,MAAMW,EAAc9F,GAASA,EAAM+F,SCU1B,SAASC,IACvB,MAAMD,GAAWE,EAAAA,EAAAA,IAAYH,GAE7B,OACE3H,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEO,EAAAA,EAAAA,KAACzB,EAAAA,EAAU,CAACE,UAAU,kBAEtBuB,EAAAA,EAAAA,KAAA,MAAAP,SACG0H,EAASG,KAAK3E,IAETpD,EAAAA,EAAAA,MAAA,MAAqBG,UAAWC,EAAE4H,YAAY9H,SAAA,EAC5CO,EAAAA,EAAAA,KAAA,MAAIN,UAAWC,EAAE6H,aAAa/H,SAAEkD,EAAQjE,SACxCsB,EAAAA,EAAAA,KAAA,KAAGN,UAAWC,EAAE8H,YAAYhI,SAAEkD,EAAQH,QACtCxC,EAAAA,EAAAA,KAACuG,EAAY,CAACrG,GAAIyC,EAAQzC,OAHnByC,EAAQzC,UAa/B,CC/BO,MAAMwH,EAAaC,IACxB,MAAOvG,EAAOC,IAAYC,EAAAA,EAAAA,UAASqG,GAMnC,OADA3E,QAAQC,IAAI,aAAc7B,GACnB,CAACA,EAJOwG,KACbvG,GAASoF,IAASA,GAAK,EAGH,E,aCIT,SAASoB,IACtB,MAAOC,EAAaC,IAAkB9G,EAAAA,EAAAA,GAAM,WAAY,KACjD+G,EAAWC,GAAgBP,GAAU,IACrCQ,EAAQC,IAAa7G,EAAAA,EAAAA,UAAS,IAE/B8G,GAAmBC,EAAAA,EAAAA,UAAQ,KAC/B,IAAIC,EAAaJ,EAAOK,cACxB,OAAOT,EAAYI,QAAOM,GACxBA,EAAK9J,MAAM6J,cAAcE,SAASH,IAAY,GAC/C,CAACJ,EAAQJ,IAEZ9E,QAAQC,IAAImF,GAGZ,MAAMjE,GAAWuE,EAAAA,EAAAA,MAQXC,GAAqB9J,EAAAA,EAAAA,cAAcgE,IAEvCsF,EAAUtF,EAAEK,OAAOE,OACnBe,GAASyE,EAAAA,EAAAA,IAAY/F,EAAEK,OAAOE,OAAO,GACpC,CAACe,IAEJ,OACE5E,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACGuI,IACChI,EAAAA,EAAAA,KAACqE,EAAK,CAACG,YAAayD,EAAaxI,UAC/BO,EAAAA,EAAAA,KAAC+B,EACC,OAKN/B,EAAAA,EAAAA,KAAA,MAAAP,SAAI,cAEJO,EAAAA,EAAAA,KAAA,UACEG,KAAK,SACL+E,QAAS+C,EAAaxI,SACvB,iBAGDO,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SAAO+D,QAAQ,SAAQtE,SAAC,YACxBO,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SACEG,KAAK,OACLD,GAAG,SACFkD,MAAO8E,EACRlE,SAAU2E,KAEZ3I,EAAAA,EAAAA,KAAA,UAIDA,EAAAA,EAAAA,KAACoH,EAEE,MAIR,C","sources":["webpack://hooks/./src/components/Title/SolidTitle.module.css?763b","components/Title/SolidTitle.jsx","hooks/useLS.js","components/Forms/Form.js","webpack://hooks/./src/components/Modal/Modal.module.scss?b72d","components/Modal/Modal.js","webpack://hooks/./src/components/Products/ProductsList.module.css?7b1e","components/Widgets/WindowElem.js","components/Widgets/RemoveItem.js","redux/products/selectors.js","components/Products/ProductsList.js","hooks/useToggle.js","pages/Products/Products.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"gradientColor\":\"SolidTitle_gradientColor__R3UeP\",\"title3\":\"SolidTitle_title3__fd+oP SolidTitle_gradientColor__R3UeP\",\"distort\":\"SolidTitle_distort__4CGj9\"};","import s from './SolidTitle.module.css';\r\nimport { gsap } from 'gsap';\r\nimport { useRef, useCallback } from 'react';\r\n\r\nexport function SolidTitle({ titleText }) {\r\n  const title = useRef(); // теперь title - переменная, которая общается с заголовком <h2></h2> \r\n  // и получается, что 2 обработчика handleMouseLeave и handleMouseEnter будут работать конкретно с <h2></h2>\r\n  // Обработчики событий\r\n  // Обработчики требуют ссылку на дом-узел title.current\r\n  // нужно получить доступ к title т.е. к нашему <h2></h2> через useRef()\r\n  const handleMouseLeave = useCallback(() => {\r\n    gsap.to(\r\n      'feDisplacementMap',\r\n      1,\r\n      {\r\n        attr: {\r\n          scale: 0,\r\n        },\r\n        ease: 'circ.out',\r\n      },\r\n      1,\r\n    );\r\n    gsap.to(\r\n      'feTurbulence',\r\n      1,\r\n      {\r\n        attr: {\r\n          baseFrequency: '2.01 .01',\r\n        },\r\n        ease: 'circ.out',\r\n      },\r\n      1,\r\n    );\r\n    gsap.to(\r\n      title.current,\r\n      1,\r\n      {\r\n        fontVariationSettings: \"'wght' 700\",\r\n        ease: 'back.out',\r\n      },\r\n      1,\r\n    );\r\n  }, []);\r\n  const handleMouseEnter = useCallback(() => {\r\n    gsap.to('feDisplacementMap', 1, {\r\n      attr: {\r\n        scale: 100,\r\n      },\r\n      ease: 'circ.out',\r\n    });\r\n    gsap.to(\r\n      'feTurbulence',\r\n      1,\r\n      {\r\n        attr: {\r\n          baseFrequency: '2.08 .08',\r\n        },\r\n        ease: 'circ.out',\r\n      },\r\n      1,\r\n    );\r\n    gsap.to(title.current, 1, {\r\n      fontVariationSettings: \"'wght' 650\",\r\n      ease: 'back.out',\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h2\r\n        className={s.title3}\r\n        onMouseEnter={handleMouseEnter}\r\n        onMouseLeave={handleMouseLeave}\r\n        ref={title}\r\n      >\r\n        {titleText} {/* ожидаю через пропы значение заголовка */}\r\n      </h2>\r\n      <svg className={s.distort}>\r\n        <filter id=\"distortionFilter\">\r\n          <feTurbulence\r\n            type=\"fractalNoise\"\r\n            baseFrequency=\"2.01 .01\"\r\n            numOctaves=\"5\"\r\n            seed=\"2\"\r\n            stitchTiles=\"noStitch\"\r\n            x=\"0%\"\r\n            y=\"0%\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            result=\"noise\"\r\n          ></feTurbulence>\r\n          <feDisplacementMap\r\n            in=\"SourceGraphic\"\r\n            in2=\"noise\"\r\n            scale=\"0\"\r\n            xChannelSelector=\"R\"\r\n            yChannelSelector=\"B\"\r\n            x=\"0%\"\r\n            y=\"0%\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            filterUnits=\"userSpaceOnUse\"\r\n          ></feDisplacementMap>\r\n        </filter>\r\n      </svg>\r\n    </>\r\n  );\r\n}","import { useState, useEffect } from \"react\";\r\n\r\nexport const useLS = (key, initial_value) => {\r\n  const [state, setState] = useState (\r\n    () => JSON.parse(localStorage.getItem(key)) ?? initial_value,\r\n  );\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(state));\r\n  }, [key, state]);\r\n\r\n  return [state, setState]\r\n}","import {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {v4 as uuid} from 'uuid';\r\nimport {addProduct, deleteProduct} from '../../redux/products/actions';\r\n\r\nclass Form extends Component {\r\n  prodIdTitle = uuid();\r\n  prodIdDesc = uuid();\r\n  prodIdAgreed = uuid();\r\n  prodIdSize = uuid();\r\n  \r\n  state = {\r\n    title: '',\r\n    desc: '',\r\n    agreed: false,\r\n    size: '',\r\n    product: null,\r\n  }\r\n\r\n// функции обработчики событий\r\n\r\n  handleCheck = (e) => {\r\n    this.setState({\r\n      agreed: !this.state.agreed,\r\n    })\r\n  }\r\n  \r\n  handleChange = (e) => {\r\n    console.log(e.target.name, e.target.value);\r\n    this.setState({\r\n      // title: e.target.value,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  };\r\n  \r\n  handleChangeAllInputs = () => {\r\n    const {name, type, checked, value} = this.state\r\n    this.setState({\r\n      [name]: type === \"checkbox\" ? checked : value\r\n    });\r\n  }\r\n  \r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const {title, desc, size} = this.state;\r\n    const obj = {\r\n      id: uuid(),\r\n      title,\r\n      desc,\r\n      size,\r\n    }\r\n    this.setState({product: obj}); // тут для себя пишем новый объект продукта в свой локальный стэйт\r\n    //this.props.addNewProduct(obj); // !!! метод из page Products.js\r\n\r\n    this.props.onAdd(obj); // диспатчим - передаем продукт в redux\r\n\r\n    this.resetForm();\r\n  };\r\n  \r\n  resetForm = () => {\r\n    this.setState({\r\n      title: '',\r\n      desc: '',\r\n      size: '',\r\n      agreed: false,\r\n    })\r\n    // распыляем дефолтное состояние стэйта\r\n    // this.setState({ ...this.state})\r\n  }\r\n\r\n\r\n  render() {\r\n    // console.log('zzz prop from store:', this.props.productsList);\r\n    console.log('метод add:', this.props.onAdd);\r\n\r\n    const {title, desc, size, agreed} = this.state;\r\n    const {handleSubmit, handleChange, handleCheck} = this;\r\n    return ( \r\n      <form onSubmit={handleSubmit}>\r\n        <label htmlFor={this.prodIdTitle}>Title</label>\r\n        <input \r\n          type=\"text\" \r\n          id={(this.prodIdTitle)} \r\n          name=\"title\" \r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n        <br/>\r\n        <label htmlFor={this.prodIdDesc}>Description</label>\r\n        <input \r\n          type=\"text\" \r\n          id={this.prodIdDesc} \r\n          name=\"desc\"\r\n          value={desc}\r\n          onChange={handleChange}\r\n        />\r\n        <br/>\r\n        <label htmlFor={this.prodIdSize}>Choose your size</label>\r\n        <select \r\n          name=\"size\"\r\n          id={this.prodIdSize}\r\n          value={size}\r\n          onChange={handleChange}\r\n        >\r\n          <option value=\"\" disabled>...</option>\r\n          <option value=\"s\">s</option>\r\n          <option value=\"m\">m</option>\r\n          <option value=\"l\">l</option>\r\n        </select>\r\n        <br/>\r\n        <label htmlFor={this.prodIdAgreed}>Agree?</label>\r\n        <input \r\n          type=\"checkbox\" \r\n          name=\"agreed\" \r\n          id={this.prodIdAgreed}\r\n          checked={agreed}\r\n          onChange={handleCheck} \r\n          />\r\n        <br/>\r\n        <button type=\"submit\" disabled={!agreed}>add</button>\r\n      </form>\r\n    )\r\n  }\r\n};\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     productsList: state.products,\r\n//   }\r\n// }\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAdd: (obj) => dispatch(addProduct(obj)),\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Form);","// extracted by mini-css-extract-plugin\nexport default {\"backDrop\":\"Modal_backDrop__V2ax+\",\"content\":\"Modal_content__rttg0\"};","import { Component } from \"react\";\r\nimport s from './Modal.module.scss';\r\nimport { createPortal } from \"react-dom\";\r\n\r\nexport class Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscape);\r\n  }\r\n\r\n  componentDidUpdate() {}\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscape);\r\n  }\r\n\r\n  handleEscape = (e) => {\r\n    let condition = e.code === 'Escape';\r\n    if(condition) {\r\n      this.props.toggleModal();\r\n    }\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    if(e.currentTarget === e.target) {\r\n      this.props.toggleModal();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {children} = this.props;\r\n    return createPortal(\r\n      <div className={s.backDrop} onClick={this.handleClose}>\r\n         <div className={s.content}>\r\n            {children}\r\n         </div>\r\n      </div>,\r\n      document.getElementById('modalRoot')\r\n    );\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"productItem\":\"ProductsList_productItem__h3M3h\",\"productTitle\":\"ProductsList_productTitle__53xwr\",\"productDesc\":\"ProductsList_productDesc__aAiXa\"};","import { Flipped } from 'react-flip-toolkit';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function GadgetWindow({\r\n  unitRef,\r\n  isOpen,\r\n  toggleState,\r\n  keydownHandler,\r\n  handleClick,\r\n  // Деструктуризируем обработчик клика для кнопки Delete\r\n  handleDelete,\r\n  textObj: {title, content, backBtn, deleteBtn},\r\n}) {\r\n  return (\r\n    <Flipped flipId=\"wrapper\">\r\n      <div\r\n        ref={unitRef}\r\n        // в тернарном операторе false заменен на undefined\r\n        tabIndex={isOpen ? undefined : 0}\r\n        role=\"dialog\"\r\n        className={`dialog animated-in`}\r\n        onClick={toggleState}\r\n        onKeyDown={keydownHandler}\r\n      >\r\n        <p className=\"title content\">{title}</p>\r\n        <p className=\"content\">{content}</p>\r\n        <button className=\"button secondary content\" onClick={handleClick}>\r\n          {backBtn}\r\n        </button>\r\n        <button className=\"button primary content\" onClick={handleDelete}>\r\n          {deleteBtn}\r\n        </button>\r\n      </div>\r\n    </Flipped>\r\n  );\r\n}\r\n\r\nGadgetWindow.defaultProps = {\r\n  textObj: {\r\n    title: 'Delete this item?',\r\n    content:\r\n      'This operation will permenantly delete this item and all its dependencies. This actioncannot be undone',\r\n    backBtn: 'Oh no, bring me back',\r\n    deleteBtn: 'I understand, delete it',\r\n  },\r\n};\r\n\r\nGadgetWindow.propTypes = {\r\n  ref: PropTypes.any,\r\n  isOpen: PropTypes.bool,\r\n  toggleState: PropTypes.func,\r\n  keydownHandler: PropTypes.func,\r\n  handleClick: PropTypes.func,\r\n  textObj: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    content: PropTypes.string,\r\n    backBtn: PropTypes.string,\r\n    deleteBtn: PropTypes.string,\r\n  }),\r\n};","import { Component, createRef } from 'react';\r\nimport { Flipper, Flipped } from 'react-flip-toolkit';\r\nimport './RemoveItem.scss';\r\nimport { GadgetWindow } from './WindowElem';\r\nimport { connect } from 'react-redux';\r\nimport {deleteProduct} from '../../redux/products/actions';\r\n\r\nclass DeleteButton extends Component {\r\n  state = {\r\n  // Классовый компонент получает от родителя начальное \r\n  // состояние через объект this.props т.к. один экземпляр виджета может \r\n  // быть с открытым окном, второй - с закрытым.\r\n    isOpen: this.props.isOpen,\r\n    // isOpen: false,\r\n  };\r\n  // получаем доступ к текущему элементу через метод библиотеки React createRef()\r\n  ref = createRef();\r\n\r\n  // создаем метод изменения свойства видимости в стейте\r\n  toggleState = () => {\r\n    //  если текущее значение true выходим из метода\r\n    if (this.state.isOpen) return;\r\n    this.setState(prev => ({\r\n      isOpen: !prev.isOpen,\r\n    }));\r\n    // фокусируемся на текущем элементе\r\n    this.ref.current.focus();\r\n  };\r\n\r\n  keydownHandler = event => {\r\n    // при фокусе табом на кнопках виджета\r\n    // закрывает виджет по нажатию на 'Enter' || 'Escape'\r\n    if (event.key === 'Enter' || event.key === 'Escape') {\r\n      this.toggleState();\r\n    }\r\n  };\r\n\r\n  handleClick = () => this.setState({ isOpen: false });\r\n  \r\n// Добавляем обработчик клика для кнопки Delete и вызываем полученный через проп\r\n// метод удаления продукта и передаем полученный id продукта\r\n\r\n  handleDelete = () => {\r\n    //this.props.onDelete(this.props.id); // раньше получали метод от родителя\r\n    this.props.onDeleteProduct(this.props.id); // \r\n    this.setState({ isOpen: false });\r\n  }\r\n  \r\n  render() {\r\n    // console.log(this.props.text);\r\n\r\n    // деструктуризировать стейт и методы\r\n    const { isOpen } = this.state;\r\n    const { ref, keydownHandler, toggleState, handleClick, handleDelete } = this;\r\n    return (\r\n      <Flipper flipKey={isOpen} spring=\"stiff\" stagger>\r\n       \r\n        {isOpen ? (\r\n          <GadgetWindow\r\n            // переименовано имя пропа для передачи в компонент виджета ссылки на дом-узел\r\n            unitRef={ref}\r\n            isOpen={isOpen}\r\n            toggleState={toggleState}\r\n            keydownHandler={keydownHandler}\r\n            handleClick={handleClick}\r\n            // textObj={this.props.text}\r\n            // передам обработчик клика для кнопки Delete\r\n            handleDelete={handleDelete}\r\n          />\r\n        ) : (\r\n          <Flipped flipId=\"wrapper\">\r\n            <div\r\n              ref={ref}\r\n              tabIndex={0}\r\n              role=\"button\"\r\n              className=\"button primary\"\r\n              onClick={toggleState}\r\n              onKeyDown={keydownHandler}\r\n            >\r\n              <Flipped flipId=\"action\">\r\n                <span className=\"action\">Delete</span>\r\n              </Flipped>\r\n            </div>\r\n          </Flipped>\r\n         )}\r\n      </Flipper>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onDeleteProduct: (id) => dispatch(deleteProduct(id)),\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(DeleteButton);","export const getProducts = state => state.products;","import {v4 as uuid} from 'uuid';\r\nimport s from './ProductsList.module.css';\r\nimport DeleteButton from '../Widgets/RemoveItem';\r\nimport { SolidTitle } from '../Title/SolidTitle';\r\nimport { useSelector } from 'react-redux';\r\nimport { getProducts } from '../../redux/products/selectors';\r\n\r\n\r\n// Создаем компонент списка продуктов\r\n\r\n export default function ProductList() {\r\n  const products = useSelector(getProducts);\r\n\r\n  return (\r\n    <>\r\n      <SolidTitle titleText=\"Product List\"/>\r\n      {/* <h2>Product List</h2> */}\r\n      <ul>\r\n        {products.map((product) => {\r\n            return (\r\n              <li key={product.id} className={s.productItem}>\r\n                <h3 className={s.productTitle}>{product.title}</h3>\r\n                <p className={s.productDesc}>{product.desc}</p>\r\n                <DeleteButton id={product.id}/>\r\n                {/* Рендерим компонент окна с подтверждением удаления DeleteButton\r\n                передаем через пропс метод удаления продукта и id */}\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\n// function ProductList({ products, onDeleteProduct }) {\r\n//     return (\r\n//       <>\r\n//         <SolidTitle titleText=\"Product List\" />\r\n//         {/* <h2>Product List</h2> */}\r\n//         <ul>\r\n//           {products.map(product => {\r\n//             return (\r\n//               <li key={product.id} className={s.productItem}>\r\n//                 <h3 className={s.productTitle}>{product.title}</h3>\r\n//                 <p className={s.productDesc}>{product.description}</p>\r\n//                 <DeleteButton id={product.id} />\r\n//                 {/* рендерим  компонент окна с подтверждением удаления DeleteButton */}\r\n//                 {/* передаем через пропс метод удаления продукта и его id */}\r\n//               </li>\r\n//             );\r\n//           })}\r\n//         </ul>\r\n//       </>\r\n//     );\r\n//   }\r\n  \r\n//   const mapStateToProps = state => ({\r\n//     products: state.products,\r\n//   });\r\n  \r\n//   export default connect(mapStateToProps)(ProductList);","import { useState, useEffect } from \"react\";\r\n\r\nexport const useToggle = (initValue) => {\r\n  const [state, setState] = useState(initValue);\r\n\r\n  const toggle = () => {\r\n    setState(prev => !prev);\r\n  }\r\n  console.log(\"useTollle:\", state);\r\n  return [state, toggle];\r\n}","import { useState, useMemo, useCallback } from 'react';\r\n\r\nimport Form from '../../components/Forms/Form';\r\nimport {Modal} from '../../components/Modal/Modal';\r\nimport ProductList from '../../components/Products/ProductsList';\r\nimport { SolidTitle } from '../../components/Title/SolidTitle';\r\n\r\nimport { useToggle } from '../../hooks/useToggle';\r\nimport {useLS} from '../../hooks/useLS';\r\n// === REDUX ===\r\nimport {useDispatch} from 'react-redux';\r\nimport { filterValue } from '../../redux/products/actions';\r\n\r\nexport default function ProductsPage () {\r\n  const [allProducts, setAllProducts] = useLS('products', []);\r\n  const [showModal, setShowModal] = useToggle(false);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  const filteredProducts = useMemo(() =>{\r\n    let normFilter = filter.toLowerCase();\r\n    return allProducts.filter(prod => \r\n      prod.title.toLowerCase().includes(normFilter));\r\n  }, [filter, allProducts])\r\n\r\n  console.log(filteredProducts);\r\n\r\n  // ===== REDUX ==== //\r\n  const dispatch = useDispatch();\r\n  // ===== REDUX ==== //\r\n\r\n\r\n  //const addNewProduct = obj => setAllProducts((zuzuzu) => [...zuzuzu, obj]);\r\n  //const deleteProduct = id => setAllProducts(zuzuzu => zuzuzu.filter(prod => prod.id !== id));\r\n  // const toggleModal = () => setShowModal(!showModal);\r\n  \r\n  const handleChangeFilter = useCallback( (e) => {\r\n    // console.log(e.target.value);\r\n    setFilter(e.target.value); // сетим локально\r\n    dispatch(filterValue(e.target.value)); // отправляем значение в redux\r\n  }, [dispatch]); \r\n\r\n  return (\r\n    <>\r\n      {showModal && (\r\n        <Modal toggleModal={setShowModal}>\r\n          <Form \r\n            //addNewProduct={addNewProduct} \r\n          />\r\n        </Modal>\r\n      )}\r\n      \r\n      <h1>Products</h1>\r\n       {/* <SolidTitle titleText=\"Products\"/> */}\r\n      <button \r\n        type=\"button\" \r\n        onClick={setShowModal} \r\n      >\r\n        Add Product\r\n      </button>\r\n      <br/>\r\n      <label htmlFor=\"filter\">Filter</label>\r\n      <br/>\r\n      <input \r\n        type=\"text\" \r\n        id=\"filter\" \r\n         value={filter} \r\n        onChange={handleChangeFilter}\r\n      />\r\n      <br/>\r\n  {/* <DeleteButton isOpen={this.state.isOpen} text={text}/>\r\n      <DeleteButton isOpen={!this.state.isOpen}/> */}\r\n     \r\n     <ProductList \r\n        //products={filteredProducts} \r\n        //onDeleteProduct={deleteProduct}\r\n      />\r\n    </>\r\n  )\r\n}"],"names":["SolidTitle","_ref","titleText","title","useRef","handleMouseLeave","useCallback","gsap","to","attr","scale","ease","baseFrequency","current","fontVariationSettings","handleMouseEnter","_jsxs","_Fragment","children","className","s","title3","onMouseEnter","onMouseLeave","ref","_jsx","distort","id","type","numOctaves","seed","stitchTiles","x","y","width","height","result","in","in2","xChannelSelector","yChannelSelector","filterUnits","useLS","key","initial_value","state","setState","useState","_JSON$parse","JSON","parse","localStorage","getItem","useEffect","setItem","stringify","Form","Component","constructor","arguments","prodIdTitle","uuid","prodIdDesc","prodIdAgreed","prodIdSize","desc","agreed","size","product","handleCheck","e","this","handleChange","console","log","target","name","value","handleChangeAllInputs","checked","handleSubmit","preventDefault","obj","props","onAdd","resetForm","render","onSubmit","htmlFor","onChange","disabled","connect","dispatch","addProduct","Modal","handleEscape","code","toggleModal","handleClose","currentTarget","componentDidMount","window","addEventListener","componentDidUpdate","componentWillUnmount","removeEventListener","createPortal","onClick","document","getElementById","GadgetWindow","unitRef","isOpen","toggleState","keydownHandler","handleClick","handleDelete","textObj","content","backBtn","deleteBtn","Flipped","flipId","tabIndex","undefined","role","onKeyDown","defaultProps","DeleteButton","createRef","prev","focus","event","onDeleteProduct","Flipper","flipKey","spring","stagger","deleteProduct","getProducts","products","ProductList","useSelector","map","productItem","productTitle","productDesc","useToggle","initValue","toggle","ProductsPage","allProducts","setAllProducts","showModal","setShowModal","filter","setFilter","filteredProducts","useMemo","normFilter","toLowerCase","prod","includes","useDispatch","handleChangeFilter","filterValue"],"sourceRoot":""}