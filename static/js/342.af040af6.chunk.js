"use strict";(self.webpackChunkhooks=self.webpackChunkhooks||[]).push([[342],{96:(e,t,s)=>{s.d(t,{v:()=>r});var a=s(213);class r{constructor(e,t){this.base_url=e,this.api_key=t,this._searchQuery="",this._page=1,this._perPage=5,this.endpoint=""}get searchQuery(){return this._searchQuery}set searchQuery(e){return this._searchQuery=e}get page(){return this._page}set page(e){return this._page+=e}resetPage(){return this._page=1,this._perPage=5}get perPage(){return this._perPage}set perPage(e){return this._perPage=e}searchPhotos(){a.A.defaults.baseURL=this.base_url,a.A.defaults.headers.common.Authorization=this.api_key,this.endpoint="search",console.log("searchQuery:",this.searchQuery,"page:",this.page,"perPage:",this.perPage);let e="?query=".concat(this.searchQuery,"&page=").concat(this.page,"&per_page=").concat(this.perPage),t=this.endpoint+e;return a.A.get(t).then((e=>e.data)).then((e=>e.photos)).catch((e=>{console.log(e)}))}async getImageInfo(e){a.A.defaults.baseURL=this.base_url,a.A.defaults.headers.common.Authorization=this.api_key,this.endpoint="photos";let t="/".concat(e),s=this.endpoint+t;try{const e=await a.A.get(s),t=e.data;if(400===e.status)throw new Error;if(200===e.status)return t}catch(r){return r.message}}}},342:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(43),r=s(688),o=s(96),i=s(579);const n=new o.v("https://api.pexels.com/v1/","C0c8jsEIkIzHhJ34LClN7vk5fJStc0qpj2n2MRQ5zthwSKBkRibKG5uF");function h(){var e,t,s;const o=(0,r.W6)(),h=(0,r.zy)(),c=(0,r.g)(),[l,u]=(0,a.useState)(null);console.log("CARD:",o),console.log(h),console.log("params:",c),(0,a.useEffect)((()=>{n.getImageInfo(c.imageId).then((e=>u(e))).catch((e=>alert("err")))}),[c.imageId]);return console.log(l),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",onClick:()=>{var e,t,s;return o.push(null!==(e=null===h||void 0===h||null===(t=h.state)||void 0===t||null===(s=t.from)||void 0===s?void 0:s.location)&&void 0!==e?e:"/pexels")},children:null!==(e=null===h||void 0===h||null===(t=h.state)||void 0===t||null===(s=t.from)||void 0===s?void 0:s.label)&&void 0!==e?e:"Go back"}),l?(0,i.jsxs)("article",{id:l.id,children:[(0,i.jsx)("h2",{children:l.photographer}),(0,i.jsx)("img",{src:l.src.original,alt:"origin size",style:{objectFit:"contain",width:"100%"}})]}):(0,i.jsx)("p",{children:"No match found"})]})}}}]);
//# sourceMappingURL=342.af040af6.chunk.js.map