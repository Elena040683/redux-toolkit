"use strict";(self.webpackChunkhooks=self.webpackChunkhooks||[]).push([[627],{85:(e,t,s)=>{s.d(t,{A:()=>c});const a={gradientColor:"SolidTitle_gradientColor__R3UeP",title3:"SolidTitle_title3__fd+oP SolidTitle_gradientColor__R3UeP",distort:"SolidTitle_distort__4CGj9"};var r=s(270),n=s(43),o=s(579);function c(e){let{titleText:t}=e;const s=(0,n.useRef)(),c=(0,n.useCallback)((()=>{r.os.to("feDisplacementMap",1,{attr:{scale:0},ease:"circ.out"},1),r.os.to("feTurbulence",1,{attr:{baseFrequency:"2.01 .01"},ease:"circ.out"},1),r.os.to(s.current,1,{fontVariationSettings:"'wght' 700",ease:"back.out"},1)}),[]),i=(0,n.useCallback)((()=>{r.os.to("feDisplacementMap",1,{attr:{scale:100},ease:"circ.out"}),r.os.to("feTurbulence",1,{attr:{baseFrequency:"2.08 .08"},ease:"circ.out"},1),r.os.to(s.current,1,{fontVariationSettings:"'wght' 650",ease:"back.out"})}),[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h2",{className:a.title3,onMouseEnter:i,onMouseLeave:c,ref:s,children:[t," "]}),(0,o.jsx)("svg",{className:a.distort,children:(0,o.jsxs)("filter",{id:"distortionFilter",children:[(0,o.jsx)("feTurbulence",{type:"fractalNoise",baseFrequency:"2.01 .01",numOctaves:"5",seed:"2",stitchTiles:"noStitch",x:"0%",y:"0%",width:"100%",height:"100%",result:"noise"}),(0,o.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"0",xChannelSelector:"R",yChannelSelector:"B",x:"0%",y:"0%",width:"100%",height:"100%",filterUnits:"userSpaceOnUse"})]})})]})}},629:(e,t,s)=>{s.d(t,{v:()=>r});var a=s(43);const r=(e,t)=>{const[s,r]=(0,a.useState)((()=>{var s;return null!==(s=JSON.parse(localStorage.getItem(e)))&&void 0!==s?s:t}));return(0,a.useEffect)((()=>{localStorage.setItem(e,JSON.stringify(s))}),[e,s]),[s,r]}},627:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(43),r=s(579);function n(e){let{getSearchValues:t}=e;const[s,n]=(0,a.useState)(""),[o,c]=(0,a.useState)(5),i=e=>{const{name:t,value:s}=e.target;switch(t){case"searchValue":n(s);break;case"perPage":c(s)}};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("BEFORE FETCH",s,o),t(s,o),n(""),c(2)},children:[(0,r.jsx)("input",{type:"text",name:"searchValue",onChange:i,value:s,placeholder:"value"}),(0,r.jsx)("input",{type:"number",name:"perPage",onChange:i,value:o,placeholder:"how many results?"}),(0,r.jsx)("button",{type:"submit",children:"search"})]})}var o=s(629),c=s(96);const i={imagesList:"ImagesList_imagesList__AeHCC",loadMoreBtn:"ImagesList_loadMoreBtn__4u24L"};var l=s(688),h=s(582),u=s(502);const g=new c.v("https://api.pexels.com/v1/","C0c8jsEIkIzHhJ34LClN7vk5fJStc0qpj2n2MRQ5zthwSKBkRibKG5uF");function p(e){let{searchValue:t,perPage:s}=e;const[n,c]=(0,o.v)("pexelImages",[]),[p,d]=(0,o.v)("searchValue",""),[m,f]=(0,o.v)("searchPage",""),[_,x]=(0,a.useState)("init"),y=(0,l.zy)();console.log("LIST location:",y),(0,a.useEffect)((()=>{t.trim()&&(d(t),f(1),x("pending"),g.resetPage(),g.searchQuery=t,g.perPage=s,g.searchPhotos().then((e=>{console.log(e),x("success"),c(e)})).catch((e=>{console.log(e),x("error")})))}),[t,s,c,f,p]);const j=()=>{!t&&p?(g.searchQuery=p,f(m+1),g.page=m+1,g.searchPhotos().then((e=>{c((t=>[...t,...e])),x("success")})).catch((e=>x("error")))):(g.page=1,console.log(g.page),g.searchPhotos().then((e=>{console.log(e),c((t=>[...t,...e])),x("success")})).catch((e=>{x("error")})))};return"init"===_&&0===n.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Hello! Search something"}),(0,r.jsx)(u.a,{})]}):"pending"===_?(0,r.jsx)("h1",{children:"Wait please!"}):"success"===_||"init"===_&&n.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ul",{className:i.imagesList,children:n.length>0&&n.map((e=>(0,r.jsx)("li",{children:(0,r.jsx)(h.N_,{to:{pathname:"/pexels/".concat(e.id),state:{from:{location:y,label:"back to pexels"}}},children:(0,r.jsx)("img",{src:e.src.small,alt:e.alt})})},e.id)))}),(0,r.jsx)("button",{type:"button",onClick:j,className:i.loadMoreBtn,children:"Load more"})]}):"error"===_?(0,r.jsx)("h1",{children:"ALARMA!!!"}):void 0}console.log(g);s(85);function d(){const[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(5);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"Pexels"}),(0,r.jsx)(n,{getSearchValues:(e,s)=>{t(e),o(s)}}),(0,r.jsx)(p,{searchValue:e,perPage:s})]})}},96:(e,t,s)=>{s.d(t,{v:()=>r});var a=s(213);class r{constructor(e,t){this.base_url=e,this.api_key=t,this._searchQuery="",this._page=1,this._perPage=5,this.endpoint=""}get searchQuery(){return this._searchQuery}set searchQuery(e){return this._searchQuery=e}get page(){return this._page}set page(e){return this._page+=e}resetPage(){return this._page=1,this._perPage=5}get perPage(){return this._perPage}set perPage(e){return this._perPage=e}searchPhotos(){a.A.defaults.baseURL=this.base_url,a.A.defaults.headers.common.Authorization=this.api_key,this.endpoint="search",console.log("searchQuery:",this.searchQuery,"page:",this.page,"perPage:",this.perPage);let e="?query=".concat(this.searchQuery,"&page=").concat(this.page,"&per_page=").concat(this.perPage),t=this.endpoint+e;return a.A.get(t).then((e=>e.data)).then((e=>e.photos)).catch((e=>{console.log(e)}))}async getImageInfo(e){a.A.defaults.baseURL=this.base_url,a.A.defaults.headers.common.Authorization=this.api_key,this.endpoint="photos";let t="/".concat(e),s=this.endpoint+t;try{const e=await a.A.get(s),t=e.data;if(400===e.status)throw new Error;if(200===e.status)return t}catch(r){return r.message}}}}}]);
//# sourceMappingURL=627.47e9de23.chunk.js.map